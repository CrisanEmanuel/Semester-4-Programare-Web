<!DOCTYPE html>
<html lang="en">
<head>
    <title>Problema 6</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <style>
        body {
            background-color: #fffbe7;
        }
        table {
            border-collapse: collapse;
            width: 180px;
            margin-top: 190px;
            margin-left: 645px;
            font-size: 16px;
            font-family: Verdana, sans-serif;
        }
        table, td {
            text-align: center;
        }
        td{
            height: 50px;
            min-width: 50px;
            border-top: 1px solid #757575;
            border-bottom: 1px solid #757575;
            border-right: none;
            border-left: none;
        }
    </style>
</head>
<body>
    <table>
        <tr>
            <td id="1"></td>
            <td id="2"></td>
            <td id="3"></td>
            <td id="4"></td>
        </tr>
        <tr>
            <td id="5"></td>
            <td id="6"></td>
            <td id="7"></td>
            <td id="8"></td>
        </tr>
        <tr>
            <td id="9"></td>
            <td id="10"></td>
            <td id="11"></td>
            <td id="12"></td>
        </tr>
        <tr>
            <td id="13"></td>
            <td id="14"></td>
            <td id="15"></td>
            <td id="16"></td>
        </tr>
    </table>

<script>
    let table = [[3, 8, 9, 5], [7, 13, 6, 15], [10, " ", 14, 4], [2, 11, 1, 12]];
    let emptyTile = [2, 1];

    function fill_table(){
        $('#1').html(table[0][0]);
        $('#2').html(table[0][1]);
        $('#3').html(table[0][2]);
        $('#4').html(table[0][3]);
        $('#5').html(table[1][0]);
        $('#6').html(table[1][1]);
        $('#7').html(table[1][2]);
        $('#8').html(table[1][3]);
        $('#9').html(table[2][0]);
        $('#10').html(table[2][1]);
        $('#11').html(table[2][2]);
        $('#12').html(table[2][3]);
        $('#13').html(table[3][0]);
        $('#14').html(table[3][1]);
        $('#15').html(table[3][2]);
        $('#16').html(table[3][3]);
    }

    $(document).ready(function() {
        fill_table();
        $(document).keydown(function(e) {
            switch(e.which) { // similar to e.keyCode, 'which' is for jQuery
                case 37: // left
                {
                    if(emptyTile[1] !== 0) {
                        table[emptyTile[0]][emptyTile[1]] = table[emptyTile[0]][emptyTile[1] - 1];
                        table[emptyTile[0]][emptyTile[1] - 1] = " ";
                        emptyTile[1]--;
                        fill_table();
                    }
                }
                    break;

                case 38: // up
                {
                    if(emptyTile[0] !== 0) {
                        table[emptyTile[0]][emptyTile[1]] = table[emptyTile[0] - 1][emptyTile[1]];
                        table[emptyTile[0] - 1][emptyTile[1]] = " ";
                        emptyTile[0]--;
                        fill_table();
                    }
                }
                    break;

                case 39: // right
                {
                    if(emptyTile[1] !== 3){
                        table[emptyTile[0]][emptyTile[1]] = table[emptyTile[0]][emptyTile[1]+1];
                        table[emptyTile[0]][emptyTile[1]+1] = " ";
                        emptyTile[1] ++;
                        fill_table();
                    }
                }
                    break;

                case 40: // down
                {
                    if(emptyTile[0] !== 3){
                        table[emptyTile[0]][emptyTile[1]] = table[emptyTile[0] + 1][emptyTile[1]];
                        table[emptyTile[0] + 1][emptyTile[1]] = " ";
                        emptyTile[0]++;
                        fill_table();
                    }
                }
                    break;
                default: return;
            }
            e.preventDefault();
        });
    });
</script>

</body>
</html>
